<!DOCTYPE html>
<html lang="en">

<head>
    <title>Chefs 4 Me</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.css" />
    <link type="text/css" rel="stylesheet" href="/css/main.css" />
    <script src="/js/jquery.js" type="text/javascript" ></script>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/ie10-viewport-bug-workaround.js"></script>
    <script src="/js/jquery.validate.js"></script>
    <style>
        body {padding-top: 75px}
        .thumbnail {padding: 25px}
    </style>
</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Chefs 4 Me</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="/chefs">Local Chefs</a>
                    </li>
                    <li>
                        <a href="/inbox">Inbox</a>
                    </li>
                    <li>
                        <a href="/preview">My Menu</a>
                    </li>
                    <li class="dropdown active">
                        <a href="/preview" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Profile<span class="caret"></span></a>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="/profile">Profile</a></li>
                            <li><a href="/payment">Payment</a></li>
                            <li><a href="/security">Account</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="/logout">LogOut</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
    <div class="container" id="wrap">
        <div class="row">
            <form id=profile enctype="multipart/form-data" method="post">
            <div class="col-md-3">
                <div class="text-center">
                    <img class="img-circle col-md-12 col-xs-12" src="/img?img_id={{user.key.urlsafe()}}" alt="Profile Picture">
                </div>
                <div>
                    <strong>Upload New Photo</strong>
                    <input type="file" id="photo" class="form-control" name="photo" accept="image/*">
                </div>
                <div class="ratings hide">
                    <p class="pull-right">3 reviews</p>
                    <p>
                        <span class="glyphicon glyphicon-star"></span>
                        <span class="glyphicon glyphicon-star"></span>
                        <span class="glyphicon glyphicon-star"></span>
                        <span class="glyphicon glyphicon-star"></span>
                        <span class="glyphicon glyphicon-star-empty"></span>
                        4.0 stars
                    </p>
                </div>
            </div>
            <div class="col-md-9">
                <div class="thumbnail">
                    <div class="text-center">
                        <h2><strong>My Profile</strong></h2>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <strong>Full Name</strong>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group has-feedback">
                                <div class="input-group" id="first_name2">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                    <input type="text" class="form-control" id="first_name" name="first_name" placeholder="First Name" value="{{user.first_name}}">
                                    <span class="glyphicon form-control-feedback" id="first_name1"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group has-feedback">
                                <div id="last_name2">
                                    <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Last Name" value="{{user.last_name}}">
                                    <span class="glyphicon form-control-feedback" id="last_name1"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <strong>Date of Birth</strong>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group has-feedback">
                                <div class="input-group" id="dob2">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                                    <input type="date" class="form-control" id="dob" name="dob" value="{{user.dob}}">
                                    <span class="glyphicon form-control-feedback" id="dob1"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <strong>I am</strong>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group has-feedback">
                                <div id="sex2">
                                    <select id="sex" name="sex" class="form-control">
                                        <option disabled selected> - select - </option>
                                        <option value="male">male</option>
                                        <option value="female">female</option>
                                    </select>
                                    <span class="glyphicon form-control-feedback" id="sex1"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <strong>ID Verified</strong>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group has-feedback">
                                <div id="id2">
                                    <input type="file" id="id" class="form-control" name="id" accept="image/*" placeholder="Upload ID">
                                    <span id="id_check" class="hide">
                                        <span class="glyphicon glyphicon-ok"></span>
                                        ID Expires on {{user.id_exp}}
                                    </span>
                                    <span class="glyphicon form-control-feedback" id="id1"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <strong>I am</strong>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group has-feedback">
                                <div id="chef2">
                                    <select id="chef" name="chef" class="form-control">
                                        <option disabled selected> - select - </option>
                                        <option value="no">seeking a Chef</option>
                                        <option value="yes">a Chef</option>
                                    </select>
                                    <span class="glyphicon form-control-feedback" id="chef1"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <strong>Cell Phone</strong>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group has-feedback">
                                <div class="input-group" id="phone2">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                    <input type="tel" id="phone" class="form-control" name="phone" placeholder="xxx-xxx-xxxx" value="{{user.number}}">
                                    <span id="phone_verified" class="input-group-addon hide">
                                        <span class="glyphicon glyphicon-ok"> Verified </span>
                                    </span>
                                    <span class="glyphicon form-control-feedback" id="phone1"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <div class="form-group has-feedback">
                                <div id="text2">
                                    <input type="checkbox" name="text">
                                    <strong>Enable Text Message</strong>
                                    <span class="glyphicon form-control-feedback" id="text1"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <strong>Street Address</strong>
                        </div>
                        <div class="col-md-10">
                            <div class="form-group has-feedback">
                                <div class="input-group" id="street2">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                    <input type="text" id="street" class="form-control" name="street" placeholder="Steet" {% if user.addresses[0].street %} value="{{user.addresses[0].street}}" {% endif %}>
                                    <span class="glyphicon form-control-feedback" id="street1"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <strong>City</strong>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group has-feedback">
                                <div id="city2">
                                    <input type="text" id="city" class="form-control" name="city" placeholder="City" {% if user.addresses[0].city %} value="{{user.addresses[0].city}}" {% endif %}>
                                    <span class="glyphicon form-control-feedback" id="city1"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <strong>State</strong>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group has-feedback">
                                <div id="state2">
                                    <input type="text" id="state" class="form-control" name="state" placeholder="ST" {% if user.addresses[0].state %} value="{{user.addresses[0].state}}" {% endif %}>
                                    <span class="glyphicon form-control-feedback" id="state1"></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <strong>Zipcode</strong>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group has-feedback">
                                <div id="zipcode2">
                                    <input type="text" id="zipcode" class="form-control" name="zipcode" placeholder="XXXXX" {% if user.addresses[0].zipcode %} value="{{user.addresses[0].zipcode}}" {% endif %}>
                                    <span class="glyphicon form-control-feedback" id="zipcode1"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="text-center">
                        <input class="btn btn-lg btn-primary" type="submit" id="submit" value="Update Profile">
                    </p>                    
                </div>
                <div class="well hide">
                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star-empty"></span>
                            Anonymous
                            <span class="pull-right">10 days ago</span>
                            <p>This product was great in terms of quality. I would definitely buy another!</p>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star-empty"></span>
                            Anonymous
                            <span class="pull-right">12 days ago</span>
                            <p>I've alredy ordered another one!</p>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star"></span>
                            <span class="glyphicon glyphicon-star-empty"></span>
                            Anonymous
                            <span class="pull-right">15 days ago</span>
                            <p>I've seen some better than this, but not at this price. I definitely recommend this item.</p>
                        </div>
                    </div>
                </div>
            </div>
            </form>
        </div>
    </div>
    <div id="footer">
        <div class="container">
            <p>© 2015 4 Me Services · <a href="#">Terms</a></p>
        </div>
    </div>
    <script>
        if ('{{user.id_verified}}' == 'True') {
            document.getElementById("first_name").readOnly = "true";
            document.getElementById("last_name").readOnly = "true";
            document.getElementById("dob").readOnly = "true";
            document.getElementById("sex").disabled = "true";
            $('#id_check').removeClass('hide');
            $('#id').addClass('hide');
            $('#first_name1').addClass('hide');
            $('#last_name1').addClass('hide');
            $('#sex1').addClass('hide');
            $('#dob1').addClass('hide');
        }
        if ('{{user.phone_verified}}' == 'True') {
            $('#phone_verified').removeClass('hide');
            $('#phone1').addClass('hide');
        }
        if ('{{user.chef}}' == 'True') {$('#chef').val('yes')}
        else if ('{{user.chef}}' == 'False') {$('#chef').val('no')}
        if ('{{user.sex}}' == 'female') {$('#sex').val('female')}
        else if ('{{user.sex}}' == 'male') {$('#sex').val('male')}
        if ('{{user.text}}' == 'True') {$('input[name="text"]').prop('checked', true)}
        $('#profile').validate({
            rules: {
                first_name: {
                    minlength: 2,
                    maxlength: 15,
                    required: true
                },
                last_name: {
                    minlength: 2,
                    maxlength: 15,
                    required: true
                },
                dob: {
                    date: true
                },
                phone: {
                    phoneUS: true
                },
                street: {
                    minlength: 2
                },
                city: {
                    minlength: 2
                },
                state: {
                    state: true
                },
                zipcode: {
                    digits: true,
                    minlength: 5,
                    maxlength: 5
                }
            },
            messages: {
                first_name: {
                    required: 'What should I call you by?'
                },
                last_name: {
                    required: 'Do you have a last name?'
                },
            },
            highlight: function(element) {
                var id_attr = "#" + $( element ).attr("id") + "1";
                $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
                $(id_attr).removeClass('glyphicon-ok').addClass('glyphicon-remove');         
            },
            unhighlight: function(element) {
                var id_attr = "#" + $( element ).attr("id") + "1";
                $(element).closest('.form-group').removeClass('has-error').addClass('has-success');
                $(id_attr).removeClass('glyphicon-remove').addClass('glyphicon-ok');         
            },
            errorElement: 'span',
            errorClass: 'help-block',
            errorPlacement: function(error, element) {
                if(element.length) {
                    error.insertAfter('#'+element.attr('id')+'2');
                } else {
                    error.insertAfter(element);
                }
            } 
        });
</script>
</body>